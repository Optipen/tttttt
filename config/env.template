# ============================================
# Configuration Wallet Monitor Bot
# ============================================
# Copiez ce fichier vers .env et ajustez les valeurs selon vos besoins
# ATTENTION: Ne commitez jamais .env avec des clés API réelles !

# ============================================
# CONFIGURATION GÉNÉRALE
# ============================================

# Active ou désactive le copy-trader (⚠️ désactivez-le pour mode DaaS)
COPY_TRADER_ENABLED=true

# ============================================
# ENDPOINTS RPC (Solana)
# ============================================
# Liste des endpoints RPC (séparés par des virgules)
# Mettez QuickNode ou Helius en premier pour la priorité
# Format: endpoint1,endpoint2,endpoint3
RPC_ENDPOINTS=https://mainnet.helius-rpc.com/?api-key=6d85aa12-96df-4a2a-831c-d502ef7fc969,https://cosmopolitan-attentive-owl.solana-mainnet.quiknode.pro/c9080bcf53e4124594753c3181f563fddc845bb6/,https://api.mainnet-beta.solana.com,https://solana-api.projectserum.com

# Mode RPC (live | fixtures)
# - live: Utilise les vrais endpoints RPC
# - fixtures: Utilise les fichiers JSON locaux pour tests
RPC_MODE=live

# Dossier pour les fixtures (si RPC_MODE=fixtures)
FIXTURES_DIR=fixtures

# ============================================
# PARAMÈTRES DE SURVEILLANCE
# ============================================
# Seuil de profit minimum pour générer une alerte (en SOL)
# Réduire pour plus d'alertes (ex: 0.2, 0.1)
PROFIT_ALERT_THRESHOLD=0.3

# Nombre de signatures à récupérer par wallet (historique)
TX_LOOKBACK=50

# Intervalle entre chaque scan de watchlist (en secondes)
# Réduire pour scans plus fréquents (ex: 20, 30)
TX_REFRESH_SECONDS=30

# ============================================
# FILTRES DE WALLETS
# ============================================
# Gain net minimum requis pour qu'un wallet soit surveillé (en SOL)
GAIN_FILTER=0.5

# Taux de réussite minimum requis pour qu'un wallet soit surveillé (%)
WIN_RATE_FILTER=80.0

# ============================================
# AJOUT AUTOMATIQUE DE WALLETS
# ============================================
# Gain minimum pour déclencher l'ajout automatique d'un nouveau wallet (en SOL)
NEW_WALLET_GAIN=7.0

# Nombre minimum de transactions requises pour ajouter un nouveau wallet
NEW_WALLET_MIN_TRX=12

# ============================================
# ALERTES
# ============================================
# Cooldown entre deux alertes pour le même wallet (en secondes)
# 300 = 5 minutes
ALERT_COOLDOWN_SEC=300

# Mode DRY_RUN (true/false/1/0)
# Si true: Les alertes sont détectées mais pas envoyées (sauf notifications système)
# Si false: Toutes les notifications sont envoyées (Discord, etc.)
# DÉSACTIVEZ pour recevoir les notifications Discord
DRY_RUN=false

# Webhook Discord pour les alertes enrichies
# Format: https://discord.com/api/webhooks/XXX/YYY
# Laisser vide pour désactiver Discord
DISCORD_WEBHOOK=https://discord.com/api/webhooks/1434745183140057140/mWg6Mw30mAVAL1LopL0VvaggUH5unFNOP0iuSSFg8B0oBl1uYaqsIOIaYcecmlkJxgU8

# ============================================
# PERFORMANCE & ASYNC
# ============================================
# Nombre maximum de wallets scannés en parallèle (async)
MAX_CONCURRENCY=10

# Timeout pour les appels RPC (en secondes)
RPC_TIMEOUT_SEC=2.5

# Nombre maximum de tentatives pour un appel RPC en cas d'échec
RPC_MAX_RETRIES=3

# ============================================
# OBSERVABILITÉ (Prometheus)
# ============================================
# Port pour exposer les métriques Prometheus
PROMETHEUS_PORT=8000

# ============================================
# PRIX DES TOKENS (Oracles)
# ============================================
# Clé API Birdeye pour fallback si Jupiter échoue
# Laisser vide si pas disponible (Jupiter sera utilisé en priorité)
BIRDEYE_API_KEY=

# ============================================
# DEBUG / TEST
# ============================================
# Activer l'alerte de test au démarrage (true/false/1/0)
DEBUG_FORCE_ALERT=false

# Wallet de test pour DEBUG_FORCE_ALERT
DEBUG_FORCE_ALERT_WALLET=TEST_WALLET_FORCED

# Profit de test pour DEBUG_FORCE_ALERT (en SOL)
DEBUG_FORCE_ALERT_PROFIT=0.7

# ============================================
# NOTES IMPORTANTES
# ============================================
# 1. QuickNode ou Helius : mettez votre endpoint en PREMIER dans RPC_ENDPOINTS
#    pour de meilleures performances et éviter le rate limiting.
#
# 2. PROFIT_ALERT_THRESHOLD :
#    - 0.3-0.5 SOL → Mode test/staging (plus d'alertes)
#    - 1.0-2.0 SOL → Mode production (alertes filtrées)
#
# 3. TX_REFRESH_SECONDS :
#    - 20-30s → Scans fréquents (plus de détection, plus de charge)
#    - 60s → Équilibre recommandé en production
#
# 4. MAX_CONCURRENCY :
#    - 5-10 → Suffisant pour 6-20 wallets
#    - 20+ → Pour gros watchlists (>50 wallets)
#
# 5. ALERT_COOLDOWN_SEC :
#    - 300s (5 min) → Anti-spam standard
#    - 600s (10 min) → Mode conservateur
#
# 6. Rotation des secrets :
#    - Changez DISCORD_WEBHOOK si exposé publiquement
#    - Changez BIRDEYE_API_KEY si exposé publiquement
#    - Regénérez vos endpoints RPC si besoin
